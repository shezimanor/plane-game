System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var o,n,e,u,r,t,s,c,l,a;return{setters:[function(i){o=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,u=i.assertThisInitialized,r=i.createClass},function(i){t=i.cclegacy,s=i._decorator,c=i.AudioClip,l=i.AudioSource,a=i.Component}],execute:function(){var p,d,h,f,S,y,m,g,M,b,C,A;t._RF.push({},"7c9950IYxFIKb26gfDEmB5y","AudioManager",void 0);var _=s.ccclass,v=s.property;i("AudioManager",(p=_("AudioManager"),d=v([c]),h=v([c]),f=v(l),S=v(l),p(((A=function(i){function o(){for(var o,n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];return o=i.call.apply(i,[this].concat(r))||this,e(o,"musicClips",g,u(o)),e(o,"soundClips",M,u(o)),e(o,"musicSource",b,u(o)),e(o,"soundSource",C,u(o)),o}n(o,i);var t=o.prototype;return t.onLoad=function(){o._instance?this.destroy():o._instance=this},t.onDestroy=function(){o._instance===this&&(o._instance=null)},t.playMusic=function(i){this.soundSource&&this.musicClips[i]?(this.musicSource.clip=this.musicClips[i],this.musicSource.play()):console.error("AudioManager: Music source or clip not found")},t.stopMusic=function(i){this.soundSource&&this.musicClips[i]?(this.musicSource.clip=this.musicClips[i],this.musicSource.stop()):console.error("AudioManager: Music source or clip not found")},t.playSound=function(i,o){void 0===o&&(o=.5),this.soundSource&&this.soundClips[i]?(this.soundSource.volume=o,this.soundSource.playOneShot(this.soundClips[i])):console.error("AudioManager: Sound source or clip not found")},t.playMusicWithSource=function(i){i?(this.musicSource.clip=i,this.musicSource.play()):console.error("AudioManager: Music source or clip not found")},t.playSoundWithSource=function(i){c?this.soundSource.playOneShot(i):console.error("AudioManager: Sound source or clip not found")},r(o,null,[{key:"instance",get:function(){return o._instance}}]),o}(a))._instance=null,g=o((m=A).prototype,"musicClips",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=o(m.prototype,"soundClips",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=o(m.prototype,"musicSource",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=o(m.prototype,"soundSource",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=m))||y));t._RF.pop()}}}));

System.register("chunks:///_virtual/Background.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,o,r,n,s,a,l,u,c,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized,n=e.createForOfIteratorHelperLoose},function(e){s=e.cclegacy,a=e._decorator,l=e.Node,u=e.CCInteger,c=e.UITransform,h=e.Component}],execute:function(){var p,d,g,b,f,_,y,v,m,N,z;s._RF.push({},"45e5bHSV8BFuqlQ/kIPFeIM","Background",void 0);var k=a.ccclass,B=a.property;e("Background",(p=k("Background"),d=B(l),g=B(l),b=B(l),f=B(u),p((v=t((y=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n))||this,o(t,"bgNode1",v,r(t)),o(t,"bgNode2",m,r(t)),o(t,"bgNode3",N,r(t)),o(t,"speed",z,r(t)),t._height=0,t._limit=0,t._nodes=[],t}i(t,e);var s=t.prototype;return s.start=function(){this._height=this.bgNode1.getComponent(c).height,this._limit=3*this._height/2,this._nodes=[this.bgNode1,this.bgNode2,this.bgNode3]},s.update=function(e){for(var t,i=n(this._nodes);!(t=i()).done;){var o=t.value,r=o.position;o.setPosition(r.x,r.y-this.speed*e,r.z)}for(var s=this._nodes.length,a=0;a<s;a++){var l=this._nodes[a],u=this._nodes[(a-1+s)%s],c=l.position;c.y<-this._limit&&l.setPosition(c.x,u.position.y+this._height,c.z)}},t}(h)).prototype,"bgNode1",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(y.prototype,"bgNode2",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(y.prototype,"bgNode3",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(y.prototype,"speed",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 120}}),_=y))||_));s._RF.pop()}}}));

System.register("chunks:///_virtual/Bullet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./enums.ts"],(function(t){var i,o,e,n,r,l,s,a,u,c,d,p;return{setters:[function(t){i=t.applyDecoratedDescriptor,o=t.inheritsLoose,e=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,s=t.Enum,a=t.CCInteger,u=t.Collider2D,c=t.Component},function(t){d=t.EventManager},function(t){p=t.BulletPoolName}],execute:function(){var h,f,P,g,_,b,m,w,y;r._RF.push({},"f6f18Kt27hC6bbdqZ+oogaP","Bullet",void 0);var v=l.ccclass,B=l.property;s(p);t("Bullet",(h=v("Bullet"),f=B({type:p}),P=B(a),g=B(a),h((m=i((b=function(t){function i(){for(var i,o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];return i=t.call.apply(t,[this].concat(r))||this,e(i,"poolName",m,n(i)),e(i,"speed",w,n(i)),e(i,"damage",y,n(i)),i.collider=null,i._initWorldPositionX=0,i._worldPositionY=0,i._bgHeight=852,i}o(i,t);var r=i.prototype;return r.onLoad=function(){this._initWorldPositionX=this.node.worldPosition.x,this._worldPositionY=this.node.worldPosition.y,this.collider=this.getComponent(u)},r.onEnable=function(){this.reset()},r.update=function(t){this._worldPositionY+=this.speed*t,this.node.setWorldPosition(this._initWorldPositionX,this._worldPositionY,0),this._worldPositionY>this._bgHeight&&this.stopAction()},r.setInitWorldPositionX=function(){this._initWorldPositionX=this.node.worldPosition.x,this._worldPositionY=this.node.worldPosition.y},r.stopAction=function(){d.eventTarget.emit("stopBullet",this.node,this.poolName)},r.reset=function(){this.collider&&(this.collider.enabled=!0)},i}(c)).prototype,"poolName",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.BulletPool_one}}),w=i(b.prototype,"speed",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 500}}),y=i(b.prototype,"damage",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),_=b))||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/BulletPool.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,o;return{setters:[function(t){e=t.createForOfIteratorHelperLoose},function(t){i=t.cclegacy,o=t.instantiate}],execute:function(){i._RF.push({},"1ff871Qwf5HmrTzRoBPJ35Q","BulletPool",void 0);t("BulletPool",function(){function t(t,e){this.inactivePool=new Set,this.poolName="",this._prefab=void 0,this._prefab=t,this.poolName=e}var i=t.prototype;return i.getBullet=function(){if(!(this.inactivePool.size>0))return o(this._prefab);for(var t,i=e(this.inactivePool);!(t=i()).done;){var n=t.value;return this.markAsActive(n),n}},i.recycleBullet=function(t){this.markAsInactive(t)},i.markAsActive=function(t){t.active=!0,this.inactivePool.delete(t)},i.markAsInactive=function(t){t.active=!1,this.inactivePool.add(t)},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/CanvasGameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./AudioManager.ts","./enums.ts"],(function(t){var e,n,o,a,r,i,u,s,c,l,b,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.createClass},function(t){i=t.cclegacy,u=t._decorator,s=t.CCInteger,c=t.Component},function(t){l=t.EventManager},function(t){b=t.AudioManager},function(t){p=t.MusicClipType}],execute:function(){var m,f,g,h,_,d,y,C;i._RF.push({},"bd4f55nX1RA0J5Z+SZ+QbQg","CanvasGameManager",void 0);var v=u.ccclass,B=u.property;t("CanvasGameManager",(m=v("CanvasGameManager"),f=B(s),g=B(s),m(((C=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r))||this,o(e,"_bombCount",d,a(e)),o(e,"_playerScore",y,a(e)),e}n(e,t);var i=e.prototype;return i.onLoad=function(){e._instance?this.destroy():e._instance=this,l.eventTarget.on("detonateBomb",this.detonateBomb,this)},i.start=function(){b.instance.playMusic(p.Bgm)},i.onDestroy=function(){e._instance===this&&(e._instance=null),l.eventTarget.off("detonateBomb",this.detonateBomb,this)},i.addBomb=function(){this._bombCount+=1,l.eventTarget.emit("updateBombCount",this._bombCount)},i.getBombCount=function(){return this._bombCount},i.detonateBomb=function(){this._bombCount>0&&(this._bombCount-=1,l.eventTarget.emit("updateBombCount",this._bombCount))},i.addScore=function(t){this._playerScore+=t,l.eventTarget.emit("updatePlayerScore",this._playerScore)},i.getPlayerScore=function(){return this._playerScore},r(e,null,[{key:"instance",get:function(){return e._instance}}]),e}(c))._instance=null,d=e((_=C).prototype,"_bombCount",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=e(_.prototype,"_playerScore",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=_))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/CanvasUIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./CanvasGameManager.ts","./AudioManager.ts","./enums.ts"],(function(e){var t,n,a,r,i,o,u,l,s,c,p,h,g,b,f,m,d,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.createClass},function(e){o=e.cclegacy,u=e._decorator,l=e.Label,s=e.Button,c=e.Node,p=e.sys,h=e.game,g=e.director,b=e.Component},function(e){f=e.EventManager},function(e){m=e.CanvasGameManager},function(e){d=e.AudioManager},function(e){S=e.SoundClipType}],execute:function(){var y,v,C,B,L,P,H,_,w,M,z,T,O,k,I,G,D,U,N,R,A,F;o._RF.push({},"437a4DlF2pOsKHZQcrMWepX","CanvasUIManager",void 0);var E=u.ccclass,j=u.property;e("CanvasUIManager",(y=E("CanvasUIManager"),v=j(l),C=j(l),B=j(l),L=j(s),P=j(s),H=j(c),_=j(s),w=j(l),M=j(l),y(((F=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,a(t,"bombCountLabel",O,r(t)),a(t,"planeHpLabel",k,r(t)),a(t,"playerScoreLabel",I,r(t)),a(t,"pauseButton",G,r(t)),a(t,"resumeButton",D,r(t)),a(t,"gameOverPanel",U,r(t)),a(t,"restartButton",N,r(t)),a(t,"highestScoreLabel",R,r(t)),a(t,"currentScoreLabel",A,r(t)),t._highestScore=0,t}n(t,e);var o=t.prototype;return o.onLoad=function(){t._instance?this.destroy():t._instance=this,f.eventTarget.on("updateBombCount",this.updateBombCount,this),f.eventTarget.on("updatePlayerHp",this.updatePlayerHp,this),f.eventTarget.on("updatePlayerScore",this.updatePlayerScore,this),f.eventTarget.on("gameOver",this.showGameOverPanel,this);var e=p.localStorage.getItem("planeHighScore");e||(e="0",p.localStorage.setItem("planeHighScore",e)),this._highestScore=Number(e),this.highestScoreLabel.string=""+this._highestScore},o.onDestroy=function(){t._instance===this&&(t._instance=null),f.eventTarget.off("updateBombCount",this.updateBombCount,this),f.eventTarget.off("updatePlayerHp",this.updatePlayerHp,this),f.eventTarget.off("updatePlayerScore",this.updatePlayerScore,this),f.eventTarget.off("gameOver",this.showGameOverPanel,this)},o.updateBombCount=function(e){this.bombCountLabel.string=""+e},o.updatePlayerHp=function(e){this.planeHpLabel.string=""+(e<0?0:e)},o.updatePlayerScore=function(e){this.playerScoreLabel.string=""+e},o.updateCurrentScore=function(e){this.currentScoreLabel.string=""+e},o.updateHighestScore=function(e){e>Number(p.localStorage.getItem("planeHighScore"))&&(p.localStorage.setItem("planeHighScore",""+e),this._highestScore=e,this.highestScoreLabel.string=""+this._highestScore,d.instance.playSound(S.NewHighestScore))},o.onClickBomb=function(){m.instance.getBombCount()>0?(f.eventTarget.emit("detonateBomb"),d.instance.playSound(S.UseBomb)):d.instance.playSound(S.ButtonClick)},o.onClickResumeGame=function(){d.instance.playSound(S.ButtonClick),this.pauseButton.node.active=!0,this.resumeButton.node.active=!1,h.resume()},o.onClickPauseGame=function(){d.instance.playSound(S.ButtonClick),this.resumeButton.node.active=!0,this.pauseButton.node.active=!1,this.scheduleOnce((function(){h.pause()}),0)},o.onClickRestartGame=function(){g.loadScene("01-start-scene"),h.resume()},o.showGameOverPanel=function(e){this.gameOverPanel.active=!0,this.updateCurrentScore(e),this.updateHighestScore(e)},i(t,null,[{key:"instance",get:function(){return t._instance}}]),t}(b))._instance=null,O=t((T=F).prototype,"bombCountLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(T.prototype,"planeHpLabel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(T.prototype,"playerScoreLabel",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(T.prototype,"pauseButton",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(T.prototype,"resumeButton",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(T.prototype,"gameOverPanel",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(T.prototype,"restartButton",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(T.prototype,"highestScoreLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(T.prototype,"currentScoreLabel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=T))||z));o._RF.pop()}}}));

System.register("chunks:///_virtual/Enemy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Bullet.ts","./CanvasGameManager.ts","./AudioManager.ts","./enums.ts","./EventManager.ts"],(function(i){var t,e,n,o,a,r,s,l,h,u,c,p,m,d,y,f,b,_,g,A,C,N,E;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){a=i.cclegacy,r=i._decorator,s=i.Enum,l=i.CCString,h=i.CCInteger,u=i.color,c=i.Sprite,p=i.Animation,m=i.Collider2D,d=i.Contact2DType,y=i.UITransform,f=i.Component},function(i){b=i.Bullet},function(i){_=i.CanvasGameManager},function(i){g=i.AudioManager},function(i){A=i.EnemyType,C=i.SoundClipType,N=i.EnemyPoolName},function(i){E=i.EventManager}],execute:function(){var T,v,z,F,S,w,B,D,H,I,M,P,x,G,L,O,k,q,R,j,J;a._RF.push({},"13550/QNudJ863AqPX77lfq","Enemy",void 0);var Q=r.ccclass,U=r.property;s(A),s(C),s(N);i("Enemy",(T=Q("Enemy"),v=U({type:A}),z=U({type:N}),F=U(l),S=U(l),w=U(h),B=U(h),D=U(h),H=U(h),I=U({type:C}),T((x=t((P=function(i){function t(){for(var t,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return t=i.call.apply(i,[this].concat(a))||this,n(t,"enemyType",x,o(t)),n(t,"poolName",G,o(t)),n(t,"destroyAnimationName",L,o(t)),n(t,"hitAnimationName",O,o(t)),n(t,"speed",k,o(t)),n(t,"hp",q,o(t)),n(t,"damage",R,o(t)),n(t,"score",j,o(t)),n(t,"destroySoundType",J,o(t)),t._bgHeight=852,t._collider=null,t._animation=null,t._maxHp=1,t._body=null,t._spriteFrame=null,t._color=u(255,255,255,255),t}e(t,i);var a=t.prototype;return a.onLoad=function(){this._maxHp=this.hp,this._body=this.node.getChildByName("Body").getComponent(c),this._spriteFrame=this._body?this._body.spriteFrame:null,this._animation=this._body?this._body.getComponent(p):null,this._animation&&this._animation.on(p.EventType.FINISHED,this.onAnimationFinished,this),this._collider=this.getComponent(m),this._collider&&this._collider.on(d.BEGIN_CONTACT,this.onBeginContact,this)},a.onEnable=function(){this.reset()},a.update=function(i){var t=this.node.position;this.node.setPosition(t.x,t.y-this.speed*i,t.z),this.node.position.y<-(this._bgHeight/2+this.getComponent(y).height/2)&&this.stopAction()},a.onDestroy=function(){this._collider&&this._collider.off(d.BEGIN_CONTACT,this.onBeginContact,this),this._animation&&this._animation.off(p.EventType.FINISHED,this.onAnimationFinished,this)},a.onAnimationFinished=function(i,t){t.name===this.destroyAnimationName&&this.stopAction()},a.onBeginContact=function(i,t){var e=t.getComponent(b);e&&(this.hp-=e.damage,this.hp<=0?this.die():this.hit(),e.collider.enabled=!1,this.scheduleOnce((function(){e.stopAction()}),0))},a.stopAction=function(){E.eventTarget.emit("stopEnemy",this.node,this.poolName)},a.reset=function(){this.hp=this._maxHp,this._body&&(this._body.spriteFrame=this._spriteFrame,this._body.color=this._color),this._collider&&(this._collider.enabled=!0)},a.hit=function(){this.hitAnimationName&&this._animation.play(this.hitAnimationName),g.instance.playSound(C.Hit,.1)},a.die=function(){this.destroyAnimationName&&this._animation.play(this.destroyAnimationName),this._collider.enabled=!1,_.instance.addScore(this.score),g.instance.playSound(this.destroySoundType)},a.kill=function(){this.hp=0,this.die()},t}(f)).prototype,"enemyType",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.Enemy0}}),G=t(P.prototype,"poolName",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N.EnemyPool_zero}}),L=t(P.prototype,"destroyAnimationName",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),O=t(P.prototype,"hitAnimationName",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),k=t(P.prototype,"speed",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),q=t(P.prototype,"hp",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),R=t(P.prototype,"damage",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),j=t(P.prototype,"score",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),J=t(P.prototype,"destroySoundType",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.Enemy0Die}}),M=P))||M));a._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnemyPool.ts","./EventManager.ts","./Enemy.ts","./enums.ts"],(function(e){var n,t,o,i,a,r,s,l,y,m,c,u,h,p,f;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.createClass},function(e){r=e.cclegacy,s=e._decorator,l=e.Prefab,y=e.CCFloat,m=e.math,c=e.Component},function(e){u=e.EnemyPool},function(e){h=e.EventManager},function(e){p=e.Enemy},function(e){f=e.EnemyPoolName}],execute:function(){var E,P,w,b,d,_,g,v,z,C,R,S,M,k,x,A;r._RF.push({},"b165dhFMCZA2JoXNahZZE5Z","EnemyManager",void 0);var T=s.ccclass,D=s.property;e("EnemyManager",(E=T("EnemyManager"),P=D(l),w=D(l),b=D(l),d=D(y),_=D(y),g=D(y),E(((A=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return n=e.call.apply(e,[this].concat(a))||this,o(n,"enemy00Prefab",C,i(n)),o(n,"enemy01Prefab",R,i(n)),o(n,"enemy02Prefab",S,i(n)),o(n,"enemy00SpawnRate",M,i(n)),o(n,"enemy01SpawnRate",k,i(n)),o(n,"enemy02SpawnRate",x,i(n)),n.enemyPool_zero=null,n.enemyPool_one=null,n.enemyPool_two=null,n.enemy00Coordinate={x:215,y:445},n.enemy01Coordinate={x:200,y:475},n.enemy02Coordinate={x:155,y:555},n}t(n,e);var r=n.prototype;return r.onLoad=function(){n._instance?this.destroy():n._instance=this,h.eventTarget.on("detonateBomb",this.killAllEnemy,this),h.eventTarget.on("stopEnemy",this.stopEnemy,this)},r.start=function(){this.enemyPool_zero=new u(this.enemy00Prefab,"enemyPool_zero"),this.enemyPool_one=new u(this.enemy01Prefab,"enemyPool_one"),this.enemyPool_two=new u(this.enemy02Prefab,"enemyPool_two"),this.schedule(this.spawnEnemy00,this.enemy00SpawnRate),this.schedule(this.spawnEnemy01,this.enemy01SpawnRate),this.schedule(this.spawnEnemy02,this.enemy02SpawnRate)},r.onDestroy=function(){n._instance===this&&(n._instance=null),this.unschedule(this.spawnEnemy00),this.unschedule(this.spawnEnemy01),this.unschedule(this.spawnEnemy02),h.eventTarget.off("detonateBomb",this.killAllEnemy,this),h.eventTarget.off("stopEnemy",this.stopEnemy,this)},r.spawnEnemy00=function(){this.spawnEnemy(this.enemyPool_zero,this.enemy00Coordinate)},r.spawnEnemy01=function(){this.spawnEnemy(this.enemyPool_one,this.enemy01Coordinate)},r.spawnEnemy02=function(){this.spawnEnemy(this.enemyPool_two,this.enemy02Coordinate)},r.spawnEnemy=function(e,n){var t=e.getEnemy();t.setPosition(m.randomRangeInt(-n.x,n.x+1),n.y,0),t.setParent(this.node)},r.stopEnemy=function(e,n){switch(n){case f.EnemyPool_zero:this.enemyPool_zero?this.enemyPool_zero.recycleEnemy(e):(console.error("EnemyPool0 not found"),e.destroy());break;case f.EnemyPool_one:this.enemyPool_one?this.enemyPool_one.recycleEnemy(e):(console.error("EnemyPool1 not found"),e.destroy());break;case f.EnemyPool_two:this.enemyPool_two?this.enemyPool_two.recycleEnemy(e):(console.error("EnemyPool2 not found"),e.destroy())}},r.killAllEnemy=function(){this.node.children.forEach((function(e){var n=e.getComponent(p);n&&e.active&&Math.abs(e.position.y)<=450&&n.kill()}))},a(n,null,[{key:"instance",get:function(){return n._instance}}]),n}(c))._instance=null,C=n((z=A).prototype,"enemy00Prefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=n(z.prototype,"enemy01Prefab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=n(z.prototype,"enemy02Prefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=n(z.prototype,"enemy00SpawnRate",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),k=n(z.prototype,"enemy01SpawnRate",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3.5}}),x=n(z.prototype,"enemy02SpawnRate",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),v=z))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyPool.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,o;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){i=e.cclegacy,o=e.instantiate}],execute:function(){i._RF.push({},"1710dsDYrRPxpaqBvhZutjo","EnemyPool",void 0);e("EnemyPool",function(){function e(e,t){this.inactivePool=new Set,this.poolName="",this._prefab=void 0,this._prefab=e,this.poolName=t}var i=e.prototype;return i.getEnemy=function(){if(!(this.inactivePool.size>0))return o(this._prefab);for(var e,i=t(this.inactivePool);!(e=i()).done;){var n=e.value;return this.markAsActive(n),n}},i.recycleEnemy=function(e){this.markAsInactive(e)},i.markAsActive=function(e){e.active=!0,this.inactivePool.delete(e)},i.markAsInactive=function(e){e.active=!1,this.inactivePool.add(e)},e}());i._RF.pop()}}}));

System.register("chunks:///_virtual/enums.ts",["cc"],(function(e){var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){o._RF.push({},"ae596RADd1J2oFsMUKnjLLK","enums",void 0);e("MusicClipType",function(e){return e[e.Bgm=0]="Bgm",e}({})),e("SoundClipType",function(e){return e[e.Enemy0Die=0]="Enemy0Die",e[e.Enemy1Die=1]="Enemy1Die",e[e.Enemy2Die=2]="Enemy2Die",e[e.Bullet=3]="Bullet",e[e.GetBomb=4]="GetBomb",e[e.GetDouble=5]="GetDouble",e[e.UseBomb=6]="UseBomb",e[e.Hit=7]="Hit",e[e.GameOver=8]="GameOver",e[e.ButtonClick=9]="ButtonClick",e[e.NewHighestScore=10]="NewHighestScore",e}({})),e("EnemyType",function(e){return e[e.Enemy0=0]="Enemy0",e[e.Enemy1=1]="Enemy1",e[e.Enemy2=2]="Enemy2",e}({})),e("ShootType",function(e){return e[e.OneShoot=0]="OneShoot",e[e.TwoShoot=1]="TwoShoot",e}({})),e("RewardType",function(e){return e[e.TwoShoot=1]="TwoShoot",e[e.BigBomb=2]="BigBomb",e}({})),e("BulletPoolName",function(e){return e[e.BulletPool_one=0]="BulletPool_one",e[e.BulletPool_two=1]="BulletPool_two",e}({})),e("EnemyPoolName",function(e){return e[e.EnemyPool_zero=0]="EnemyPool_zero",e[e.EnemyPool_one=1]="EnemyPool_one",e[e.EnemyPool_two=2]="EnemyPool_two",e}({}));o._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["cc"],(function(e){var n,t;return{setters:[function(e){n=e.cclegacy,t=e.EventTarget}],execute:function(){n._RF.push({},"f8725p9DElHIJIv6r+dYp0k","EventManager",void 0),e("EventManager",(function(){})).eventTarget=new t,n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./AudioManager.ts","./Background.ts","./Bullet.ts","./BulletPool.ts","./CanvasGameManager.ts","./CanvasUIManager.ts","./Enemy.ts","./EnemyManager.ts","./EnemyPool.ts","./EventManager.ts","./Player.ts","./Reward.ts","./RewardManager.ts","./RewardPool.ts","./StartSceneManager.ts","./enums.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Player.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BulletPool.ts","./Enemy.ts","./Reward.ts","./CanvasGameManager.ts","./EventManager.ts","./AudioManager.ts","./enums.ts","./Bullet.ts"],(function(t){var e,o,i,n,l,a,s,r,h,u,c,p,m,b,d,f,y,_,g,P,w,T,v,S,B,C,I,A,N,V,E,z,D,F;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){l=t.cclegacy,a=t._decorator,s=t.Node,r=t.Prefab,h=t.CCString,u=t.CCInteger,c=t.CCFloat,p=t.Vec3,m=t.v3,b=t.color,d=t.Sprite,f=t.Animation,y=t.Collider2D,_=t.Contact2DType,g=t.input,P=t.Input,w=t.UITransform,T=t.math,v=t.game,S=t.Component},function(t){B=t.BulletPool},function(t){C=t.Enemy},function(t){I=t.Reward},function(t){A=t.CanvasGameManager},function(t){N=t.EventManager},function(t){V=t.AudioManager},function(t){E=t.ShootType,z=t.SoundClipType,D=t.BulletPoolName},function(t){F=t.Bullet}],execute:function(){var L,H,M,R,O,x,G,U,X,k,W,Y,j,q,J,K,Q,Z,$,tt,et;l._RF.push({},"91a30XiSuVLDav6xgsnezlu","Player",void 0);var ot=a.ccclass,it=a.property;t("Player",(L=ot("Player"),H=it(s),M=it(r),R=it(r),O=it(h),x=it(h),G=it(u),U=it(c),X=it(u),k=it(u),L((j=e((Y=function(t){function e(){for(var e,o=arguments.length,l=new Array(o),a=0;a<o;a++)l[a]=arguments[a];return e=t.call.apply(t,[this].concat(l))||this,i(e,"bulletParent",j,n(e)),i(e,"bullet01Prefab",q,n(e)),i(e,"bullet02Prefab",J,n(e)),i(e,"destroyAnimationName",K,n(e)),i(e,"hitAnimationName",Q,n(e)),i(e,"shootType",Z,n(e)),i(e,"shootRate",$,n(e)),i(e,"hp",tt,n(e)),i(e,"twoShootDuration",et,n(e)),e.bulletPool_one=null,e.bulletPool_two=null,e.borderX=230,e.borderY=380,e.tempUIVec3=new p(0,0,0),e.tempLocalVec3=new p(0,0,0),e.bullet01InitVec3=m(0,0,0),e.bullet02LeftInitVec3=m(-22,-29.5,0),e.bullet02RightInitVec3=m(22,-29.5,0),e._twoShootTimer=0,e._shootTimer=0,e._collider=null,e._animation=null,e._maxHp=1,e._body=null,e._spriteFrame=null,e._isInvisible=!1,e._color=b(255,255,255,255),e}o(e,t);var l=e.prototype;return l.onLoad=function(){this._maxHp=this.hp,this._body=this.node.getChildByName("Body").getComponent(d),this._spriteFrame=this._body?this._body.spriteFrame:null,this._animation=this._body?this._body.getComponent(f):null,this._animation&&this._animation.on(f.EventType.FINISHED,this.onAnimationFinished,this),this._collider=this.getComponent(y),this._collider&&this._collider.on(_.BEGIN_CONTACT,this.onBeginContact,this),this.bulletPool_one=new B(this.bullet01Prefab,"bulletPool_one"),this.bulletPool_two=new B(this.bullet02Prefab,"bulletPool_two"),g.on(P.EventType.TOUCH_MOVE,this.onTouchMove,this),N.eventTarget.on("stopBullet",this.stopBullet,this)},l.onEnable=function(){this.reset()},l.start=function(){N.eventTarget.emit("updatePlayerHp",this.hp)},l.update=function(t){if(!(this.hp<=0||this._isInvisible)&&(this._shootTimer+=t,this.shootType===E.TwoShoot&&(this._twoShootTimer+=t),this._shootTimer>=this.shootRate))switch(this._shootTimer=0,this.shootType){case E.OneShoot:this.oneShoot();break;case E.TwoShoot:this.twoShoot(),this._twoShootTimer>=this.twoShootDuration&&(this.shootType=E.OneShoot,this._twoShootTimer=0)}},l.onDestroy=function(){g.off(P.EventType.TOUCH_MOVE,this.onTouchMove,this),this._collider&&this._collider.off(_.BEGIN_CONTACT,this.onBeginContact,this),this._animation&&this._animation.off(f.EventType.FINISHED,this.onAnimationFinished,this),N.eventTarget.off("stopBullet",this.stopBullet,this)},l.onTouchMove=function(t){var e=t.getUILocation();this.tempUIVec3.set(e.x,e.y,0),this.node.parent.getComponent(w).convertToNodeSpaceAR(this.tempUIVec3,this.tempLocalVec3);var o=this.tempLocalVec3.set(T.clamp(this.tempLocalVec3.x,-this.borderX,this.borderX),T.clamp(this.tempLocalVec3.y,-this.borderY,this.borderY),this.tempLocalVec3.z);this.node.setPosition(o)},l.oneShoot=function(){var t=this.bulletPool_one.getBullet(),e=t.getComponent(F);t.setPosition(this.bullet01InitVec3),e.setInitWorldPositionX(),t.setParent(this.bulletParent),V.instance.playSound(z.Bullet)},l.twoShoot=function(){var t=this.bulletPool_two.getBullet(),e=this.bulletPool_two.getBullet(),o=t.getComponent(F),i=e.getComponent(F);t.setPosition(this.bullet02LeftInitVec3),e.setPosition(this.bullet02RightInitVec3),o.setInitWorldPositionX(),i.setInitWorldPositionX(),t.setParent(this.bulletParent),e.setParent(this.bulletParent),V.instance.playSound(z.Bullet)},l.onAnimationFinished=function(t,e){e.name===this.destroyAnimationName?(v.pause(),N.eventTarget.emit("gameOver",A.instance.getPlayerScore())):e.name===this.hitAnimationName&&(this._isInvisible=!1)},l.onBeginContact=function(t,e){if(!this._isInvisible)switch(e.group){case 4:var o=e.getComponent(C);this.contactEnemy(o);break;case 8:var i=e.getComponent(I);this.contactReward(i)}},l.contactReward=function(t){if(t){switch(t.rewardType){case 1:this.shootType=E.TwoShoot,this._twoShootTimer=0,V.instance.playSound(z.GetDouble);break;case 2:A.instance.addBomb(),V.instance.playSound(z.GetBomb)}t.collider.enabled=!1,this.scheduleOnce((function(){t.stopAction()}),0)}},l.contactEnemy=function(t){t&&(this.hp-=t.damage,N.eventTarget.emit("updatePlayerHp",this.hp),this.hp<=0?this.die():this.hit())},l.die=function(){this.destroyAnimationName&&this._animation.play(this.destroyAnimationName),this._collider.enabled=!1,V.instance.playSound(z.GameOver)},l.hit=function(){this.hitAnimationName&&this._animation.play(this.hitAnimationName),this._isInvisible=!0,V.instance.playSound(z.Hit)},l.reset=function(){this.hp=this._maxHp,N.eventTarget.emit("updatePlayerHp",this.hp),this._body&&(this._body.spriteFrame=this._spriteFrame,this._body.color=this._color),this._collider&&(this._collider.enabled=!0)},l.stopBullet=function(t,e){switch(e){case D.BulletPool_one:this.bulletPool_one?this.bulletPool_one.recycleBullet(t):(console.error("BulletPool not found"),t.destroy());break;case D.BulletPool_two:this.bulletPool_two?this.bulletPool_two.recycleBullet(t):(console.error("BulletPool not found"),t.destroy())}},e}(S)).prototype,"bulletParent",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(Y.prototype,"bullet01Prefab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(Y.prototype,"bullet02Prefab",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(Y.prototype,"destroyAnimationName",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Q=e(Y.prototype,"hitAnimationName",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Z=e(Y.prototype,"shootType",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.TwoShoot}}),$=e(Y.prototype,"shootRate",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),tt=e(Y.prototype,"hp",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),et=e(Y.prototype,"twoShootDuration",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),W=Y))||W));l._RF.pop()}}}));

System.register("chunks:///_virtual/Reward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RewardManager.ts","./RewardPool.ts","./enums.ts"],(function(e){var t,r,o,n,i,a,s,l,c,d,p,u,h,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,s=e.CCString,l=e.CCInteger,c=e.Collider2D,d=e.UITransform,p=e.Component},function(e){u=e.RewardManager},function(e){h=e.RewardPool},function(e){f=e.RewardType}],execute:function(){var g,w,y,b,m,R,_,C,v;i._RF.push({},"df09ePRHzhNKqHo3h6HAVuA","Reward",void 0);var M=a.ccclass,z=a.property;e("Reward",(g=M("Reward"),w=z(s),y=z(l),b=z(l),g((_=t((R=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,o(t,"poolName",_,n(t)),o(t,"speed",C,n(t)),o(t,"rewardType",v,n(t)),t.collider=null,t._rewardManager=null,t._bgHeight=852,t}r(t,e);var i=t.prototype;return i.onLoad=function(){this._rewardManager=this.node.parent.getComponent(u),this.collider=this.getComponent(c)},i.onEnable=function(){this.reset()},i.update=function(e){var t=this.node.position;this.node.setPosition(t.x,t.y-this.speed*e,t.z),this.node.position.y<-(this._bgHeight/2+this.getComponent(d).height/2+100)&&this.stopAction()},i.stopAction=function(){this._rewardManager&&this._rewardManager[this.poolName]instanceof h?this._rewardManager[this.poolName].recycleReward(this.node):(console.error("RewardPool not found"),this.node.destroy())},i.reset=function(){this.collider&&(this.collider.enabled=!0)},t}(p)).prototype,"poolName",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),C=t(R.prototype,"speed",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),v=t(R.prototype,"rewardType",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.TwoShoot}}),m=R))||m));i._RF.pop()}}}));

System.register("chunks:///_virtual/RewardManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RewardPool.ts"],(function(e){var r,a,n,t,i,o,s,w,l,d,u,c;return{setters:[function(e){r=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,t=e.assertThisInitialized,i=e.createClass},function(e){o=e.cclegacy,s=e._decorator,w=e.Prefab,l=e.CCFloat,d=e.math,u=e.Component},function(e){c=e.RewardPool}],execute:function(){var p,h,f,R,P,b,y,_,g,m,v,C;o._RF.push({},"42a35OZfyFGhYPkO1PwKhyX","RewardManager",void 0);var S=s.ccclass,z=s.property;e("RewardManager",(p=S("RewardManager"),h=z(w),f=z(w),R=z(l),P=z(l),p(((C=function(e){function r(){for(var r,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i))||this,n(r,"reward01Prefab",_,t(r)),n(r,"reward02Prefab",g,t(r)),n(r,"reward01SpawnRate",m,t(r)),n(r,"reward02SpawnRate",v,t(r)),r.rewardPool_one=null,r.rewardPool_two=null,r.reward01Coordinate={x:200,y:505},r.reward02Coordinate={x:200,y:525},r}a(r,e);var o=r.prototype;return o.onLoad=function(){r._instance?this.destroy():r._instance=this},o.start=function(){this.rewardPool_one=new c(this.reward01Prefab,"rewardPool_one"),this.rewardPool_two=new c(this.reward02Prefab,"rewardPool_two"),this.schedule(this.spawnReward01,this.reward01SpawnRate),this.schedule(this.spawnReward02,this.reward02SpawnRate)},o.onDestroy=function(){r._instance===this&&(r._instance=null),this.unschedule(this.spawnReward01),this.unschedule(this.spawnReward02)},o.spawnReward01=function(){this.spawnReward(this.rewardPool_one,this.reward01Coordinate)},o.spawnReward02=function(){this.spawnReward(this.rewardPool_two,this.reward02Coordinate)},o.spawnReward=function(e,r){var a=e.getReward();a.setPosition(d.randomRangeInt(-r.x,r.x+1),r.y,0),a.setParent(this.node)},i(r,null,[{key:"instance",get:function(){return r._instance}}]),r}(u))._instance=null,_=r((y=C).prototype,"reward01Prefab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=r(y.prototype,"reward02Prefab",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=r(y.prototype,"reward01SpawnRate",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 7}}),v=r(y.prototype,"reward02SpawnRate",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),b=y))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/RewardPool.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,o;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){i=e.cclegacy,o=e.instantiate}],execute:function(){i._RF.push({},"c482fsox7tOyprUHnTCL1jo","RewardPool",void 0);e("RewardPool",function(){function e(e,t){this.inactivePool=new Set,this.poolName="",this._prefab=void 0,this._prefab=e,this.poolName=t}var i=e.prototype;return i.getReward=function(){if(!(this.inactivePool.size>0))return o(this._prefab);for(var e,i=t(this.inactivePool);!(e=i()).done;){var r=e.value;return this.markAsActive(r),r}},i.recycleReward=function(e){this.markAsInactive(e)},i.markAsActive=function(e){e.active=!0,this.inactivePool.delete(e)},i.markAsInactive=function(e){e.active=!1,this.inactivePool.add(e)},e}());i._RF.pop()}}}));

System.register("chunks:///_virtual/StartSceneManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,c,o;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e._decorator,c=e.director,o=e.Component}],execute:function(){var a;n._RF.push({},"8b808DyfgxMEYY4m0sbIVgY","StartSceneManager",void 0);var i=r.ccclass;r.property,e("StartSceneManager",i("StartSceneManager")(a=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.onClickStartButton=function(){c.loadScene("02-game-scene")},n}(o))||a);n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});